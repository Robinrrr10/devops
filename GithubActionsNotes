Github Actions notes
---------------------
Tutorial used:
https://www.youtube.com/watch?v=kgsZJMp3bgs

Repo link:
https://github.com/Robinrrr10/githubActions

Github action is the component given in the github for CICD automation process.
Here we can run the CICD
Here we can build the project, run the project.
We we can run the CICD via cron or trigger when there is any deployment etc
Below you can find more details about the github actions.





To add github action, we need to create a yaml file under .github/workflows

Below is the simple github action yaml file

name: Simple Action
on: push

jobs:
  printHello:
    runs-on: ubuntu-latest

    steps:
      - name: Print Hello World....
        run: echo 'Hello World!!!'




name       - this is to give the githuh action name
on         - Here we will give when it should trigger. push meaning, when some changes are pushed, it will trigger

jobs       - This is to give the jobs. In a yaml file we can give n number of jobs

We can give n number of steps in each jobs

steps   - This is to give the steps. We will be giving the name of the step under that
run     - This is to run the commend.

uses    - This is to specific which one we need to use in github action market place.   actions/checkout@v6 - this is to check repo. actions/setup-python@v6.2.0 this is to do python setup.
From below link we can get the required plugins in github market place
https://github.com/marketplace?type=actions

For cloning use below under steps
      - name: Clone Repo
        uses: actions/checkout@v6


Below is to do python setup    
      - name: Doing Python Setup
        uses: actions/setup-python@v6.2.0
        with: 
          python-version: '3.10'

Below is the way to schedule the job on cron timing
name: Run Crob Job
on:
  schedule:
    - cron: '* * * * *'

Below is the way to trigger the github action when code pus happens on specific branch 
name: Using branch secrets and run
on:
  push:
    branches: [ mybranch ]

//Here inside branches we can give the branch name

Github secrets
Secrets the value of variable which wont be shown in the logs or repos.
We can use secure variables like user name, password in secrets
We can use any secrets in the github.


To add secrets for github actions of the repo
We go to the required repository
Click settings in that repository
Click Secrets and variables
Select Actions
Under Repository secrets click Add new repository secrets
Now we can give secret name and the value
We can use this secret name in the actions yaml file by calling  ${{ secrets.GiveTheNameHere }} Eg: ${{ secrets.USER_NAME }}


Below is the way to read the secrets and add int in the environment of github action 
      - name: Adding and using secrets
        env:
          NAME: ${{ secrets.USER_NAME }}
          ROLE: ${{ secrets.USER_ROLE }}

We need to use like about to read the secrets



